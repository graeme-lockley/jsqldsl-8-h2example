<?xml version="1.0" encoding="UTF-8"?>
<configuration xmlns="http://www.no9.co.za/xsd/jsqldsl-8-configuration.xsd"
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xsi:schemaLocation="http://www.no9.co.za/xsd/jsqldsl-8-configuration.xsd">
    <source>
        <jdbc>
            <driver>org.h2.Driver</driver>
            <url>jdbc:h2:target/movies</url>
            <username>sa</username>
        </jdbc>

        <includes>
            <include>
                <schema>PUBLIC</schema>
                <!--<table>DEPARTMENT</table>-->
                <!--<table>EMPLOYEE</table>-->
            </include>
        </includes>
    </source>

    <targets>
        <target>
            <handler>za.co.no9.jsqldsl.tools.jsqldsl.Handler</handler>
            <destination>target/generated-sources/jsqldsl</destination>
            <properties>
                <property>
                    <name>package</name>
                    <value>x.y.z</value>
                </property>
                <property>
                    <name>driver</name>
                    <value>za.co.no9.jsqldsl.drivers.H2</value>
                </property>
            </properties>
        </target>
        <target>
            <handler>za.co.no9.jsqldsl.tools.schemadoc.Handler</handler>
            <destination>target/schemadoc</destination>
            <properties>
                <property>
                    <name>start-document-template</name>
                    <value>
                        digraph G {
                        node [
                        fontname="Helvetica"
                        fontsize="11"
                        shape="plaintext"
                        ];
                        edge [
                        arrowsize="0.8"
                        fontname="Helvetica"
                        fontsize="8"
                        ];
                    </value>
                </property>
                <property>
                    <name>table-template</name>
                    <value>
                        ${tableMetaData.tableName().dbName()} [label=<![CDATA[
<<table BORDER="2" CELLBORDER="1" CELLSPACING="0" BGCOLOR="#ffffff">
<tr><td COLSPAN="3" BGCOLOR="#9bab96" ALIGN="CENTER">${tableMetaData.tableName().dbName()}</td></tr>
<#list tableMetaData.fields() as field>
<tr><td port="${field.name()}" COLSPAN="2"
<#if field.isPrimaryKey()>
BGCOLOR="#bed1b8"
</#if>
ALIGN="LEFT">
<#if field.isNullable()>
<FONT COLOR="#696969">${field.name()}</FONT>
<#else>
${field.name()}
</#if>
</td><td port="${field.name()}-E">${field.fieldType()}<#if field.columnSize().isPresent()>
(${field.columnSize().get()})
</#if>
</td></tr>
</#list>
</table>
>];
<#list tableMetaData.foreignKeys() as foreignKey>
<#if foreignKey.fkColumns()[0].isNullable()>
        "${foreignKey.fkTableName().dbName()}":"${foreignKey.fkColumns()[0].name()}":w -> "${foreignKey.pkTableName().dbName()}":"${foreignKey.pkColumns()[0].name()}-E":e [dir=back arrowhead=none arrowtail=nonecrowodot label="${foreignKey.fkName().get()}"];
<#else>
        "${foreignKey.fkTableName().dbName()}":"${foreignKey.fkColumns()[0].name()}":w -> "${foreignKey.pkTableName().dbName()}":"${foreignKey.pkColumns()[0].name()}-E":e [dir=both arrowhead=nonetee arrowtail=nonecrowodot label="${foreignKey.fkName().get()}"];
</#if>
</#list>
]]>
                    </value>
                </property>
                <property>
                    <name>end-document-template</name>
                    <value>
                        }
                    </value>
                </property>
                <property>
                    <name>driver</name>
                    <value>za.co.no9.jsqldsl.drivers.H2</value>
                </property>
            </properties>
        </target>
    </targets>
</configuration>


